--- /var/ida/nextcloud-old/apps/files/js/app.js	2024-02-20 10:11:36.587434149 +0000
+++ /var/ida/nextcloud-old/apps/files/js/app.js.original	2024-02-20 10:11:36.587434149 +0000
@@ -53,7 +53,7 @@
 		initialize: function() {
 			this.navigation = new OCA.Files.Navigation($('#app-navigation'));
 			this.$showHiddenFiles = $('input#showhiddenfilesToggle');
-			var showHidden = true;
+			var showHidden = $('#showHiddenFiles').val() === "1";
 			this.$showHiddenFiles.prop('checked', showHidden);
 
 			// crop image previews
@@ -66,7 +66,7 @@
 			}
 
 			this._filesConfig = new OC.Backbone.Model({
-				showhidden: true,
+				showhidden: showHidden,
 				cropimagepreviews: cropImagePreviews,
 			});
 
